# ADR 018: Switching to the static frame API

## Context

The operand stack and the local variables are represented by the `Frame` in GraalWasm.
Recently, the `Frame` introduced a new static frame API.
Previously, every access to the `Frame` performed a type check to make sure that the slot at the given index contained a value with the expected type.
The new API is specifically designed for statically types languages and only performs type checks during development.
In production code the type checks are omitted.

## Decision

We will switch to the static frame API.

## Status

Active

## Consequences

This will increase the interpreter performance.

## Commit

`9454507a1f6`

## Artifacts

[org.graalvm.wasm.nodes.WasmFrame](../../src/org.graalvm.wasm/src/org/graalvm/wasm/nodes/WasmFrame.java)
[org.graalvm.wasm.nodes.WasmFunctionNode](../../src/org.graalvm.wasm/src/org/graalvm/wasm/nodes/WasmFunctionNode.java)
[org.graalvm.wasm.WasmInstantiator](../../src/org.graalvm.wasm/src/org/graalvm/wasm/WasmInstantiator.java)

## Relations

- is related to [ADR 010](./adr-010.md)
- extends [ADR 014](./adr-014.md)
- is related to [ADR 020](./adr-020.md)